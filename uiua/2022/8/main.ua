Mask ← >⬚¯1↻¯1\↥.
View ← ≡(/+\↧⬚1↻¯1≡<⊃(¤⊢|↘1)↘)⊙¤⇡⧻.
Solve‼! ← /^!♭/^!≡⍥(⍉⇌)⇡4 ≡^!≡⍥(⇌⍉)⇡4¤

&fras"input.txt"
-@0 ⊜∘¬ ∊:"\n\r".
⊃(Solve‼!↥×View|Solve‼!+↥Mask)
